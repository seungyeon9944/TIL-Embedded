## 차량 종횡방향

### 로봇의 제어
로봇을 원하는 위치, 상태(속도, 가속도 등)로 조작하는 것 즉 로봇에 달린 모터를 원하는데로 움직일 수 있어야 함

### 1. 종 방향 제어
물체가 바라보는 방향 기준으로 **수평한 방향의 제어** (터틀봇에서는 **앞/뒤**로 움직이는 제어)
- 변위(이동거리)를 미분하면 속도, 속도를 미분하면 가속도
- 가속도를 적분하면 속도, 속도를 적분하면 변위(이동거리)
- **피드백 제어**를 통해 목표속도에 도달할 수 있음 (ON/OFF 제어와 PID 제어)

### 1-1. 피드백 제어 기법: ON/OFF 제어
- 단순히 목표속도에 도달하기 위해 조작을 ON/OFF 하는 제어
- 목표속도로 완벽하게 수렴하지 못함

### 1-2. 피드백 제어 기법: PID 제어
- **P (Proportional)** 제어
    - 오차는 **목표속도 - 현재속도**
    - 오차에 비례하는 조작량을 가함
    - 오차를 완전히 줄일 수 없음

- **PI (Proportional-Integral)** 제어
    - 비례제어, 적분 제어
    - **P제어 조작량 + 오차를 누적한 조작량**을 더해서 제어함
    - 오차를 완전히 줄일 수 있음

- **PID (Proportional-Integral-Differential)** 제어
    - 원하는 값에 도달하기 위한 기초적인 피드백 제어 방법 중 하나
    - P, PI, PD, PID 등 제어 대상에 맞게 선택해서 사용할 수 있음
    - PID 제어는 수식이 매우 간단하고, 구현 난이도 대비 목표 추종이나 외란 감쇄 효과에 탁월한 성능 가짐
    - 적절한 이득값 조절이 필요
![PID 제어 블록선도 및 수식](https://i.imgur.com/ZunS0Fy.png)

---

### 2. 횡 방향 제어
물체가 바라보는 방향 기준으로 **수직한 방향의 제어** (터틀봇에서는 **좌/우**로 움직이는 제어)
- **Follow the Carrot** (현재 위치와 목표지점까지의 오차각도와 거리 이용)
- **Pure Pursuit** (현재 위치와 목표 위치 두 점을 지나는 원 이용)
- **Stanley Method** (경로와의 오차 거리 및 조향 각도 오차 이용)
- **Vector Pursuit** (나사 이론을 기반으로 원과 직선으로 구성)

### 2-1. Follow the carrot
로봇의 위치, 경로점들을 가지고 **경로를 따라갈 수 있는 각속도를 계산**하는 방법

![Follow the Carrot 수식](https://i.imgur.com/WapMypj.png)